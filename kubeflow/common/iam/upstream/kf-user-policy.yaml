apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMPolicyMember
metadata:
  name: kubeflow-test-user-cloudbuild # kpt-set: ${name}-user-cloudbuild
spec:
  member: serviceAccount:kubeflow-test-user@kfmlops.iam.gserviceaccount.com # kpt-set: serviceAccount:${name}-user@${gcloud.core.project}.iam.gserviceaccount.com
  role: roles/cloudbuild.builds.editor
  resourceRef:
    apiVersion: resourcemanager.cnrm.cloud.google.com/v1beta1
    kind: Project
    external: projects/kfmlops # kpt-set: projects/${gcloud.core.project}
---
apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMPolicyMember
metadata:
  name: kubeflow-test-user-viewer # kpt-set: ${name}-user-viewer
spec:
  member: serviceAccount:kubeflow-test-user@kfmlops.iam.gserviceaccount.com # kpt-set: serviceAccount:${name}-user@${gcloud.core.project}.iam.gserviceaccount.com
  role: roles/viewer
  resourceRef:
    apiVersion: resourcemanager.cnrm.cloud.google.com/v1beta1
    kind: Project
    external: projects/kfmlops # kpt-set: projects/${gcloud.core.project}
---
apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMPolicyMember
metadata:
  name: kubeflow-test-user-source # kpt-set: ${name}-user-source
spec:
  member: serviceAccount:kubeflow-test-user@kfmlops.iam.gserviceaccount.com # kpt-set: serviceAccount:${name}-user@${gcloud.core.project}.iam.gserviceaccount.com
  role: roles/source.admin
  resourceRef:
    apiVersion: resourcemanager.cnrm.cloud.google.com/v1beta1
    kind: Project
    external: projects/kfmlops # kpt-set: projects/${gcloud.core.project}
---
apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMPolicyMember
metadata:
  name: kubeflow-test-user-storage # kpt-set: ${name}-user-storage
spec:
  member: serviceAccount:kubeflow-test-user@kfmlops.iam.gserviceaccount.com # kpt-set: serviceAccount:${name}-user@${gcloud.core.project}.iam.gserviceaccount.com
  role: roles/storage.admin
  resourceRef:
    apiVersion: resourcemanager.cnrm.cloud.google.com/v1beta1
    kind: Project
    external: projects/kfmlops # kpt-set: projects/${gcloud.core.project}
---
apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMPolicyMember
metadata:
  name: kubeflow-test-user-bigquery # kpt-set: ${name}-user-bigquery
spec:
  member: serviceAccount:kubeflow-test-user@kfmlops.iam.gserviceaccount.com # kpt-set: serviceAccount:${name}-user@${gcloud.core.project}.iam.gserviceaccount.com
  role: roles/bigquery.admin
  resourceRef:
    apiVersion: resourcemanager.cnrm.cloud.google.com/v1beta1
    kind: Project
    external: projects/kfmlops # kpt-set: projects/${gcloud.core.project}
---
apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMPolicyMember
metadata:
  name: kubeflow-test-user-dataflow # kpt-set: ${name}-user-dataflow
spec:
  member: serviceAccount:kubeflow-test-user@kfmlops.iam.gserviceaccount.com # kpt-set: serviceAccount:${name}-user@${gcloud.core.project}.iam.gserviceaccount.com
  role: roles/dataflow.admin
  resourceRef:
    apiVersion: resourcemanager.cnrm.cloud.google.com/v1beta1
    kind: Project
    external: projects/kfmlops # kpt-set: projects/${gcloud.core.project}
---
apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMPolicyMember
metadata:
  name: kubeflow-test-user-ml # kpt-set: ${name}-user-ml
spec:
  member: serviceAccount:kubeflow-test-user@kfmlops.iam.gserviceaccount.com # kpt-set: serviceAccount:${name}-user@${gcloud.core.project}.iam.gserviceaccount.com
  role: roles/ml.admin
  resourceRef:
    apiVersion: resourcemanager.cnrm.cloud.google.com/v1beta1
    kind: Project
    external: projects/kfmlops # kpt-set: projects/${gcloud.core.project}
---
apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMPolicyMember
metadata:
  name: kubeflow-test-user-dataproc # kpt-set: ${name}-user-dataproc
spec:
  member: serviceAccount:kubeflow-test-user@kfmlops.iam.gserviceaccount.com # kpt-set: serviceAccount:${name}-user@${gcloud.core.project}.iam.gserviceaccount.com
  role: roles/dataproc.editor
  resourceRef:
    apiVersion: resourcemanager.cnrm.cloud.google.com/v1beta1
    kind: Project
    external: projects/kfmlops # kpt-set: projects/${gcloud.core.project}
---
apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMPolicyMember
metadata:
  name: kubeflow-test-user-cloudsql # kpt-set: ${name}-user-cloudsql
spec:
  member: serviceAccount:kubeflow-test-user@kfmlops.iam.gserviceaccount.com # kpt-set: serviceAccount:${name}-user@${gcloud.core.project}.iam.gserviceaccount.com
  role: roles/cloudsql.admin
  resourceRef:
    apiVersion: resourcemanager.cnrm.cloud.google.com/v1beta1
    kind: Project
    external: projects/kfmlops # kpt-set: projects/${gcloud.core.project}
---
apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMPolicyMember
metadata:
  name: kubeflow-test-user-logging # kpt-set: ${name}-user-logging
spec:
  member: serviceAccount:kubeflow-test-user@kfmlops.iam.gserviceaccount.com # kpt-set: serviceAccount:${name}-user@${gcloud.core.project}.iam.gserviceaccount.com
  role: roles/logging.logWriter
  resourceRef:
    apiVersion: resourcemanager.cnrm.cloud.google.com/v1beta1
    kind: Project
    external: projects/kfmlops # kpt-set: projects/${gcloud.core.project}
---
apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMPolicyMember
metadata:
  name: kubeflow-test-user-metricwriter # kpt-set: ${name}-user-metricwriter
spec:
  member: serviceAccount:kubeflow-test-user@kfmlops.iam.gserviceaccount.com # kpt-set: serviceAccount:${name}-user@${gcloud.core.project}.iam.gserviceaccount.com
  role: roles/monitoring.metricWriter
  resourceRef:
    apiVersion: resourcemanager.cnrm.cloud.google.com/v1beta1
    kind: Project
    external: projects/kfmlops # kpt-set: projects/${gcloud.core.project}
---
apiVersion: iam.cnrm.cloud.google.com/v1beta1
kind: IAMPolicyMember
metadata:
  name: kubeflow-test-user-monitoringviewer # kpt-set: ${name}-user-monitoringviewer
spec:
  member: serviceAccount:kubeflow-test-user@kfmlops.iam.gserviceaccount.com # kpt-set: serviceAccount:${name}-user@${gcloud.core.project}.iam.gserviceaccount.com
  role: roles/monitoring.viewer
  resourceRef:
    apiVersion: resourcemanager.cnrm.cloud.google.com/v1beta1
    kind: Project
    external: projects/kfmlops # kpt-set: projects/${gcloud.core.project}
